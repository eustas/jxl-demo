if("undefined"==typeof window){const a={"jxl_emcc.js":'var JxlCodecModule=(()=>{var Pe="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(Pe=Pe||__filename),function(e){e=e||{},(o=o||(void 0!==e?e:{})).ready=new Promise(function(e,n){r=e,i=n});var o,r,i,n,s,t,a,u,c,q=Object.assign({},o),f=(e,n)=>{throw n},l="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m=o.ENVIRONMENT_IS_PTHREAD||!1,h="";function O(e){return o.locateFile?o.locateFile(e,h):h+e}if(p){h=d?require("path").dirname(h)+"/":__dirname+"/",c=()=>{u||(a=require("fs"),u=require("path"))},n=function(e,n){return c(),e=u.normalize(e),a.readFileSync(e,n?void 0:"utf8")},t=e=>e=(e=n(e,!0)).buffer?e:new Uint8Array(e),s=(e,r,t)=>{c(),e=u.normalize(e),a.readFile(e,function(e,n){e?t(e):r(n.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof P))throw e}),process.on("unhandledRejection",function(e){throw e}),f=(e,n)=>{if(E())throw process.exitCode=e,n;n instanceof P||g("exiting due to exception: "+n),process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"};let e;try{e=require("worker_threads")}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=e.Worker}else(l||d)&&(d?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),h=0!==(h=Pe?Pe:h).indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",p||(n=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},d&&(t=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),s=(e,n,r)=>{var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=()=>{200==t.status||0==t.status&&t.response?n(t.response):r()},t.onerror=r,t.send(null)}));p&&"undefined"==typeof performance&&(global.performance=require("perf_hooks").performance);var U,_,y=console.log.bind(console),w=console.warn.bind(console),D=(p&&(c(),y=e=>a.writeSync(1,e+"\\n"),w=e=>a.writeSync(2,e+"\\n")),o.print||y),g=o.printErr||w,L=(Object.assign(o,q),o.quit&&(f=o.quit),o.wasmBinary&&(_=o.wasmBinary),o.noExitRuntime||!0);"object"!=typeof WebAssembly&&T("no native wasm support detected");var v,V,H=!1;function G(e){var n=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),n.decode.call(n,e))}var b,x,F,N="undefined"!=typeof TextDecoder?new G("utf8"):void 0;function X(e,n,r){var t=n+r;for(r=n;e[r]&&!(t<=r);)++r;if(16<r-n&&e.subarray&&N)return N.decode(e.subarray(n,r));for(t="";n<r;){var a,o,i=e[n++];128&i?(a=63&e[n++],192==(224&i)?t+=String.fromCharCode((31&i)<<6|a):(o=63&e[n++],(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[n++])<65536?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(55296|i>>10,56320|1023&i)))):t+=String.fromCharCode(i)}return t}"undefined"!=typeof TextDecoder&&new G("utf-16le"),m&&(A=o.buffer);y=o.INITIAL_MEMORY||78643200;if(m)v=o.wasmMemory,A=o.buffer;else if(o.wasmMemory)v=o.wasmMemory;else if(!((v=new WebAssembly.Memory({initial:y/65536,maximum:y/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw g("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),p&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");var y=(A=v?v.buffer:A).byteLength,w=A,A=w;o.HEAP8=new Int8Array(w),o.HEAP16=new Int16Array(w),o.HEAP32=x=new Int32Array(w),o.HEAPU8=b=new Uint8Array(w),o.HEAPU16=new Uint16Array(w),o.HEAPU32=new Uint32Array(w),o.HEAPF32=new Float32Array(w),o.HEAPF64=F=new Float64Array(w);var z,J=[],Y=[],Z=[],Q=0;function E(){return L||0<Q}var k,S=0,$=null,R=null;function T(e){throw m?postMessage({cmd:"onAbort",arg:e}):o.onAbort&&o.onAbort(e),g(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),i(e),e}function K(){return k.startsWith("data:application/octet-stream;base64,")}function ee(){var e=k;try{if(e==k&&_)return new Uint8Array(_);if(t)return t(e);throw"both async and sync fetching of the wasm failed"}catch(e){T(e)}}o.preloadedImages={},o.preloadedAudios={},k="jxl_emcc.wasm",K()||(k=O(k));var ne={};function M(e){for(;0<e.length;){var n,r=e.shift();"function"==typeof r?r(o):"number"==typeof(n=r.Ba)?void 0===r.U?oe(n)():oe(n)(r.U):n(void 0===r.U?null:r.U)}}function re(e){var n=Me();return e=e(),Ie(n),e}function te(e){var n=I.R[e];n&&(x[e>>2]=0,I.ia(n.worker))}var I={S:[],W:[],ba:[],oa:function(){m?I.ra():I.qa()},qa:function(){for(var e=0;e<4;++e)I.da()},ra:function(){I.receiveObjectTransfer=I.ta,I.threadInit=I.ka,I.setExitStatus=I.va,L=!1},R:{},va:function(){},ja:function(){for(var e in I.R){var n=I.R[e];n&&n.worker&&I.ia(n.worker)}for(e=0;e<I.S.length;++e)I.S[e].terminate();I.S=[]},ia:function(e){I.ua(function(){delete I.R[e.T.aa],I.S.push(e),I.W.splice(I.W.indexOf(e),1),Re(e.T.aa),e.T=void 0})},ua:function(e){x[We>>2]=0;try{e()}finally{x[We>>2]=1}},ta:function(){},ka:function(){for(var e in I.ba)I.ba[e]()},ga:function(t,a){t.onmessage=e=>{var n,r=(e=e.data).cmd;t.T&&(I.la=t.T.aa),e.targetThread&&e.targetThread!=B()?(n=I.R[e.Ha])?n.worker.postMessage(e,e.transferList):g(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+e.targetThread+", but that thread no longer exists!"):"processQueuedMainThreadWork"===r?Ae():"spawnThread"===r?ie(e):"cleanupThread"===r?te(e.thread):"killThread"===r?(e=e.thread,x[e>>2]=0,r=I.R[e],delete I.R[e],r.worker.terminate(),Re(e),I.W.splice(I.W.indexOf(r.worker),1),r.worker.T=void 0):"cancelThread"===r?I.R[e.thread].worker.postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,a&&a(t),t.V&&(t.V(),delete t.V)):"print"===r?D("Thread "+e.threadId+": "+e.text):"printErr"===r?g("Thread "+e.threadId+": "+e.text):"alert"===r?alert("Thread "+e.threadId+": "+e.text):"setimmediate"===e.target?t.postMessage(e):"onAbort"===r?o.onAbort&&o.onAbort(e.arg):g("worker sent an unknown command "+r),I.la=void 0},t.onerror=e=>{throw g("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},p&&(t.on("message",function(e){t.onmessage({data:e})}),t.on("error",function(e){t.onerror(e)}),t.on("detachedExit",function(){})),t.postMessage({cmd:"load",urlOrBlob:o.mainScriptUrlOrBlob||Pe,wasmMemory:v,wasmModule:V})},da:function(){var e=O("jxl_emcc.worker.js");I.S.push(new Worker(e))},na:function(){return 0==I.S.length&&(I.da(),I.ga(I.S[0])),I.S.pop()}};function ae(e){if(m)return W(1,0,e);try{Be(e)}catch(e){e instanceof P||"unwind"==e||f(1,e)}}o.establishStackSpace=function(){var e=B(),n=x[e+44>>2];Te(n,n-x[e+48>>2]),Ie(n)};var j=[];function oe(e){var n=j[e];return n||(e>=j.length&&(j.length=e+1),j[e]=n=z.get(e)),n}function ie(e){var n=I.na();if(!n)return 6;I.W.push(n);var r=I.R[e.$]={worker:n,aa:e.$},t=(n.T=r,{cmd:"run",start_routine:e.wa,arg:e.U,threadInfoStruct:e.$});return n.V=()=>{t.time=performance.now(),n.postMessage(t,e.xa)},n.loaded&&(n.V(),delete n.V),0}function W(t,a){var o=arguments.length-2,i=arguments;return re(function(){for(var e=je(8*o),n=e>>3,r=0;r<o;r++)F[n+r]=i[2+r];return ke(t,o,e,a)})}o.invokeEntryPoint=function(e,n){return oe(e)(n)};var q=p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:m?()=>performance.now()-o.__performance_now_clock_drift:()=>performance.now(),se=[];var ue=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function ce(e){return e=2<e?e?X(b,e,void 0):"":e,ue[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function fe(e,n,r){var i,s,u,c,t=ce(e);return t?(t.Z&&(x[t.Z>>2]=n,x[t.Z+4>>2]=r),!t.ha&&t.za?t.Z?(t=x[t.Z+8>>2],e=e?X(b,e,void 0):"",i=t,s=e,u=n,c=r,re(function(){var e=je(12),n=0;if(s){for(var r=n=0;r<s.length;++r){var t=s.charCodeAt(r);(t=55296<=t&&t<=57343?65536+((1023&t)<<10)|1023&s.charCodeAt(++r):t)<=127?++n:n=t<=2047?n+2:t<=65535?n+3:n+4}if(r=n=be(t=n+1),0<t){for(var t=r+t-1,a=0;a<s.length;++a){var o=s.charCodeAt(a);if((o=55296<=o&&o<=57343?65536+((1023&o)<<10)|1023&s.charCodeAt(++a):o)<=127){if(t<=r)break;b[r++]=o}else{if(o<=2047){if(t<=r+1)break;b[r++]=192|o>>6}else{if(o<=65535){if(t<=r+2)break;b[r++]=224|o>>12}else{if(t<=r+3)break;b[r++]=240|o>>18,b[r++]=128|o>>12&63}b[r++]=128|o>>6&63}b[r++]=128|63&o}}b[r]=0}}x[e>>2]=n,x[e+4>>2]=u,x[e+8>>2]=c,Se(i,657457152,0,n,e)}),1):-4:(e=!1,(t=t.ha?t.ha:t).Y&&t.Y.X&&(e=0===(e=t.Y.X.getParameter(2978))[0]&&0===e[1]&&e[2]===t.width&&e[3]===t.height),t.width=n,t.height=r,e&&t.Y.X.viewport(0,0,n,r),0)):-4}function le(e,n,r){return m?W(2,1,e,n,r):fe(e,n,r)}function de(r,e){r.fa||(r.fa=r.getContext,r.getContext=function(e,n){return"webgl"==e==(n=r.fa(e,n))instanceof WebGLRenderingContext?n:null});var n,t,a,o=r.getContext("webgl",e);{if(o){if(o=o,e=e,t=be(8),x[t+4>>2]=B(),a={Ca:t,attributes:e,version:e.sa,X:o},o.canvas&&(o.canvas.Y=a),(void 0===e.ea||e.ea)&&!(o=(o=a)||pe).pa){o.pa=!0;var i=n=o.X,s=i.getExtension("ANGLE_instanced_arrays"),u=(s&&(i.vertexAttribDivisor=function(e,n){s.vertexAttribDivisorANGLE(e,n)},i.drawArraysInstanced=function(e,n,r,t){s.drawArraysInstancedANGLE(e,n,r,t)},i.drawElementsInstanced=function(e,n,r,t,a){s.drawElementsInstancedANGLE(e,n,r,t,a)}),n),c=u.getExtension("OES_vertex_array_object"),f=(c&&(u.createVertexArray=function(){return c.createVertexArrayOES()},u.deleteVertexArray=function(e){c.deleteVertexArrayOES(e)},u.bindVertexArray=function(e){c.bindVertexArrayOES(e)},u.isVertexArray=function(e){return c.isVertexArrayOES(e)}),n),l=f.getExtension("WEBGL_draw_buffers");l&&(f.drawBuffers=function(e,n){l.drawBuffersWEBGL(e,n)}),n.Aa=n.getExtension("EXT_disjoint_timer_query"),n.Ea=n.getExtension("WEBGL_multi_draw"),(n.getSupportedExtensions()||[]).forEach(function(e){e.includes("lose_context")||e.includes("debug")||n.getExtension(e)})}return t}return 0}}var pe,me=["default","low-power","high-performance"],he=[null,[],[]];function _e(e){return m?W(3,1,e):0}function ye(e,n,r,t,a){if(m)return W(4,1,e,n,r,t,a)}function we(e,n,r,t){if(m)return W(5,1,e,n,r,t);for(var a=0,o=0;o<r;o++){var i=x[n>>2],s=x[n+4>>2];n+=8;for(var u=0;u<s;u++){var c=b[i+u],f=he[e];0===c||10===c?((1===e?D:g)(X(f,0)),f.length=0):f.push(c)}a+=s}return x[t>>2]=a,0}I.oa();var C,ge=[null,ae,le,_e,ye,we],ve={i:function(e){xe(e,!d,1,!l),I.ka()},g:function(e){m?postMessage({cmd:"cleanupThread",thread:e}):te(e)},d:function(e,n,r,t){if("undefined"==typeof SharedArrayBuffer)return g("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return m&&0===a.length?Ee(687865856,e,n,r,t):(e={wa:r,$:e,U:t,xa:a},m?(e.ya="spawnThread",postMessage(e,a),0):ie(e))},h:function(){return 2097152},m:function(e,n){if(e==n)postMessage({cmd:"processQueuedMainThreadWork"});else if(m)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=I.R[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){T("")},e:function(){p||d||((U=U||{})["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(U["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,g("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))},c:q,q:function(e,n,r){b.copyWithin(e,n,n+r)},j:function(e,n,r){se.length=n,r>>=3;for(var t=0;t<n;t++)se[t]=F[r+t];return(e<0?ne[-e-1]:ge[e]).apply(null,se)},o:function(){T("OOM")},k:function(e,n,r){return(ce(e)?fe:le)(e,n,r)},s:function(){throw"unwind"},l:function(e,n){return n={alpha:!!x[n>>=2],depth:!!x[n+1],stencil:!!x[n+2],antialias:!!x[n+3],premultipliedAlpha:!!x[n+4],preserveDrawingBuffer:!!x[n+5],powerPreference:me[x[n+6]],failIfMajorPerformanceCaveat:!!x[n+7],sa:x[n+8],Da:x[n+9],ea:x[n+10],ma:x[n+11],Fa:x[n+12],Ga:x[n+13]},!(e=ce(e))||n.ma?0:de(e,n)},r:function(e){Be(e)},p:_e,n:ye,f:we,a:v||o.wasmMemory},be=(!function(){function n(e,n){var r;o.asm=e.exports,I.ba.push(o.asm.B),z=o.asm.A,Y.unshift(o.asm.t),V=n,m||(r=I.S.length,I.S.forEach(function(e){I.ga(e,function(){var e;!--r&&(S--,o.monitorRunDependencies&&o.monitorRunDependencies(S),0==S&&(null!==$&&(clearInterval($),$=null),R))&&(e=R,R=null,e())})}))}function r(e){n(e.instance,e.module)}function t(e){return function(){if(!_&&(l||d)){if("function"==typeof fetch&&!k.startsWith("file://"))return fetch(k,{credentials:"same-origin"}).then(function(e){if(e.ok)return e.arrayBuffer();throw"failed to load wasm binary file at \'"+k+"\'"}).catch(ee);if(s)return new Promise(function(n,e){s(k,function(e){n(new Uint8Array(e))},e)})}return Promise.resolve().then(ee)}().then(function(e){return WebAssembly.instantiate(e,a)}).then(function(e){return e}).then(e,function(e){g("failed to asynchronously prepare wasm: "+e),T(e)})}var a={a:ve};if(m||(S++,o.monitorRunDependencies&&o.monitorRunDependencies(S)),o.instantiateWasm)try{return o.instantiateWasm(a,n)}catch(e){return g("Module.instantiateWasm callback failed with error: "+e)}(_||"function"!=typeof WebAssembly.instantiateStreaming||K()||k.startsWith("file://")||"function"!=typeof fetch?t(r):fetch(k,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,a).then(r,function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),t(r)})})).catch(i)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.t).apply(null,arguments)},o._jxlCreateInstance=function(){return(o._jxlCreateInstance=o.asm.u).apply(null,arguments)},o._jxlDestroyInstance=function(){return(o._jxlDestroyInstance=o.asm.v).apply(null,arguments)},o._free=function(){return(o._free=o.asm.w).apply(null,arguments)},o._jxlProcessInput=function(){return(o._jxlProcessInput=o.asm.x).apply(null,arguments)},o._malloc=function(){return(be=o._malloc=o.asm.y).apply(null,arguments)}),xe=(o._jxlFlush=function(){return(o._jxlFlush=o.asm.z).apply(null,arguments)},o._emscripten_tls_init=function(){return(o._emscripten_tls_init=o.asm.B).apply(null,arguments)},o.__emscripten_thread_crashed=function(){return(o.__emscripten_thread_crashed=o.asm.C).apply(null,arguments)},o.__emscripten_thread_init=function(){return(xe=o.__emscripten_thread_init=o.asm.D).apply(null,arguments)}),B=o._pthread_self=function(){return(B=o._pthread_self=o.asm.E).apply(null,arguments)},Ae=o._emscripten_main_thread_process_queued_calls=function(){return(Ae=o._emscripten_main_thread_process_queued_calls=o.asm.F).apply(null,arguments)},Ee=(o._emscripten_current_thread_process_queued_calls=function(){return(o._emscripten_current_thread_process_queued_calls=o.asm.G).apply(null,arguments)},o._emscripten_sync_run_in_main_thread_4=function(){return(Ee=o._emscripten_sync_run_in_main_thread_4=o.asm.H).apply(null,arguments)}),ke=o._emscripten_run_in_main_runtime_thread_js=function(){return(ke=o._emscripten_run_in_main_runtime_thread_js=o.asm.I).apply(null,arguments)},Se=o._emscripten_dispatch_to_thread_=function(){return(Se=o._emscripten_dispatch_to_thread_=o.asm.J).apply(null,arguments)},Re=o.__emscripten_thread_free_data=function(){return(Re=o.__emscripten_thread_free_data=o.asm.K).apply(null,arguments)},Te=(o.__emscripten_thread_exit=function(){return(o.__emscripten_thread_exit=o.asm.L).apply(null,arguments)},o._emscripten_stack_set_limits=function(){return(Te=o._emscripten_stack_set_limits=o.asm.M).apply(null,arguments)}),Me=o.stackSave=function(){return(Me=o.stackSave=o.asm.N).apply(null,arguments)},Ie=o.stackRestore=function(){return(Ie=o.stackRestore=o.asm.O).apply(null,arguments)},je=o.stackAlloc=function(){return(je=o.stackAlloc=o.asm.P).apply(null,arguments)},We=o.__emscripten_allow_main_runtime_queued_calls=165808;function P(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ce(){function e(){if(!C&&(C=!0,o.calledRun=!0,!H)&&(m||M(Y),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),!m)){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var e=o.postRun.shift();Z.unshift(e)}M(Z)}}if(!(0<S))if(m)r(o),m||M(Y),postMessage({cmd:"loaded"});else{if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)n=void 0,n=o.preRun.shift(),J.unshift(n);M(J),0<S||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}var n}function Be(e){if(m)throw ae(e),"unwind";E()||m||I.ja(),E()||(I.ja(),o.onExit&&o.onExit(e),H=!0),f(e,new P(e))}if(o.keepRuntimeAlive=E,o.PThread=I,o.PThread=I,o.wasmMemory=v,o.ExitStatus=P,R=function e(){C||Ce(),C||(R=e)},o.run=Ce,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Ce(),e.ready}})();"object"==typeof exports&&"object"==typeof module?module.exports=JxlCodecModule:"function"==typeof define&&define.amd?define([],function(){return JxlCodecModule}):"object"==typeof exports&&(exports.JxlCodecModule=JxlCodecModule);',"jxl_emcc.worker.js":'"use strict";var Module={},ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,nodeWorkerThreads,parentPort,fs;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");ENVIRONMENT_IS_NODE?fs.writeSync(2,e+"\\n"):console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}ENVIRONMENT_IS_NODE&&(nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort,parentPort.on("message",function(e){onmessage({data:e})}),fs=require("fs"),Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(e){(0,eval)(fs.readFileSync(e,"utf8"))},postMessage:function(e){parentPort.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}}));var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,r)=>{e=new WebAssembly.Instance(Module.wasmModule,e);return r(e),Module.wasmModule=null,e.exports},self.onmessage=e=>{try{var r;if("load"===e.data.cmd)Module.wasmModule=e.data.wasmModule,Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof e.data.urlOrBlob?importScripts(e.data.urlOrBlob):(r=URL.createObjectURL(e.data.urlOrBlob),importScripts(r),URL.revokeObjectURL(r)),JxlCodecModule(Module).then(function(e){Module=e});else if("run"===e.data.cmd){Module.__performance_now_clock_drift=performance.now()-e.data.time,Module.__emscripten_thread_init(e.data.threadInfoStruct,0,0,1),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInit();try{var t=Module.invokeEntryPoint(e.data.start_routine,e.data.arg);Module.keepRuntimeAlive()?Module.PThread.setExitStatus(t):Module.__emscripten_thread_exit(t)}catch(e){if("unwind"!=e){if(!(e instanceof Module.ExitStatus))throw e;Module.keepRuntimeAlive()||Module.__emscripten_thread_exit(e.status)}}}else"cancel"===e.data.cmd?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):"setimmediate"!==e.data.target&&("processThreadQueue"===e.data.cmd?Module._pthread_self()&&Module._emscripten_current_thread_process_queued_calls():"processProxyingQueue"===e.data.cmd?Module._pthread_self()&&Module._emscripten_proxy_execute_queue(e.data.queue):(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(e){throw err("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&err(e.stack),Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),e}};'};self.addEventListener("install",()=>self.skipWaiting()),self.addEventListener("activate",e=>e.waitUntil(self.clients.claim())),self.addEventListener("message",e=>{e.data&&"deregister"===e.data.type&&self.registration.unregister().then(()=>self.clients.matchAll()).then(e=>{e.forEach(e=>e.navigate(e.url))})}),self.addEventListener("fetch",function(e){if("only-if-cached"!==e.request.cache||"same-origin"===e.request.mode){const n=e.request.url;for(var[r,t]of Object.entries(a))if(n.endsWith(r)){const o=new Headers;return o.set("Content-Type","application/javascript"),o.set("Cross-Origin-Embedder-Policy","require-corp"),o.set("Cross-Origin-Opener-Policy","same-origin"),void e.respondWith(new Response(t,{status:200,statusText:"OK",headers:o}))}"document"===e.request.destination&&e.respondWith(fetch(e.request).then(e=>{if(0===e.status)return e;const r=new Headers(e.headers);return r.set("Cross-Origin-Embedder-Policy","require-corp"),r.set("Cross-Origin-Opener-Policy","same-origin"),new Response(e.body,{status:e.status,statusText:e.statusText,headers:r})}).catch(e=>console.error(e)))}})}else(()=>{const r={shouldRegister:()=>!0,shouldDeregister:()=>!1,doReload:()=>window.location.reload(),quiet:!1,...window.coi},t=navigator;r.shouldDeregister()&&t.serviceWorker&&t.serviceWorker.controller&&t.serviceWorker.controller.postMessage({type:"deregister"}),!1===window.crossOriginIsolated&&r.shouldRegister()&&(window.isSecureContext?t.serviceWorker&&t.serviceWorker.register(window.document.currentScript.src).then(e=>{r.quiet||console.log("COOP/COEP Service Worker registered",e.scope),e.addEventListener("updatefound",()=>{r.quiet||console.log("Reloading page to make use of updated COOP/COEP Service Worker."),r.doReload()}),e.active&&!t.serviceWorker.controller&&(r.quiet||console.log("Reloading page to make use of COOP/COEP Service Worker."),r.doReload())},e=>{r.quiet||console.error("COOP/COEP Service Worker failed to register:",e)}):r.quiet||console.log("COOP/COEP Service Worker not registered, a secure context is required."))})();
