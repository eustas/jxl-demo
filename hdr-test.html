<html>
<head></head>
<body>
<script type="text/javascript">
function createCanvas() {
  let result = document.createElement('canvas');
  result.width = 1024;
  result.height = 32;
  let div = document.createElement('div');
  div.appendChild(result);
  document.body.appendChild(div);
  return result;
}
function onDomContentLoaded() {
  for (let bits = 1; bits < 8; ++bits) {
    let mul = [(bits & 1) * 1.0, ((bits >> 1) & 1) * 1.0, ((bits >> 2) & 1) * 1.0, 0.0];
    let add = [0.0, 0.0, 0.0, 1.0];

    let ref = createCanvas();
    let ctxRef = ref.getContext("2d", {colorSpace: "rec2020", pixelFormat: "float16"});
    let pixelsRef = ctxRef.getImageData(0, 0, 1024, 32, {colorSpace: "rec2020", storageFormat: "float32"});
    let dataRef = pixelsRef.data;

    let lin = createCanvas();
    let ctxLin = lin.getContext("2d", {colorSpace: "rec2020", pixelFormat: "float16"});
    let pixelsLin = ctxLin.getImageData(0, 0, 1024, 32, {colorSpace: "rec2020", storageFormat: "float32"});
    let dataLin = pixelsLin.data;

    createCanvas();

    for (let y = 0; y < 32; ++y) {
      for (let x = 0; x < 1024; ++x) {
        let offset = (y * 1024 + x) * 4;
        let v = x / 96.0;
        for (let c = 0; c < 4; ++c) {
          dataRef[offset + c] = mul[c] + add[c];
          dataLin[offset + c] = v * mul[c] + add[c];
        }
      }
    }
    ctxRef.putImageData(pixelsRef, 0, 0);
    ctxLin.putImageData(pixelsLin, 0, 0);
  }
}

document.addEventListener('DOMContentLoaded', onDomContentLoaded);
</script>
</body>
</html>